import { expect, test } from "@jest/globals";
import { Dictionary } from "@reduxjs/toolkit";
import { NormalizedNode, getDefaultSkillValue } from "../../types";
import { roundNDecimals } from "../coordinateSystem";
import { plotCircularTree } from "./general";
import {
    checkForRadialOverlap,
    fixSubTreeOverlapRadial,
    getDistanceToCenterPerLevel,
    getNodesToShiftByHalfOverlapRadial,
    getNodesToShiftByOverlapRadial,
    getNodesToShiftForInternalOverlapRadial,
    shiftNodesCounterClockWise,
} from "./overlapWithinSubTree";
import { getSubTreesDictionary } from "../extractInformationFromTree";

const MOCK_SKILL_VALUE = getDefaultSkillValue("foo", false, { isEmoji: false, text: "foo" });

const WHITE_HOME_TREE = {
    accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
    icon: { isEmoji: false, text: "L" },
    rootNodeId: "homepageRoot",
    treeId: "HomepageTree",
    treeName: "Life Skills",
};

//ðŸš¨ This is the tree I'm referencing when I say complete overlap case https://imgur.com/a/SqaqnnS
// I call it complete because it has

test("getDistanceToCenterPerLevel - Smallest overlap case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "treeId",
            x: -1,
            y: 2,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "treeId",
            x: 0,
            y: 2,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "treeId",
            x: -0.5,
            y: 1,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "treeId",
            x: 0,
            y: 2,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "treeId",
            x: 1,
            y: 2,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.5,
            y: 1,
        },
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "treeId",
            x: 0,
            y: 0,
        },
    };

    expect(getDistanceToCenterPerLevel(nodes)).toStrictEqual({ "0": 0, "1": 1, "2": 2 });
});

test("shiftNodesCounterClockWise by PI - Smallest overlap case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "treeId",
            x: 0,
            y: 0,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: -0.31930878585700095,
        },
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: -0.9368371752344786,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: -0.3235715487652902,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: 0.31930878585700095,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: 0.3235715487652902,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: 0.9368371752344786,
        },
    };

    expect(shiftNodesCounterClockWise(nodes, "rootId", { "1-2": "overlap", "22a": "overlap", "22b": "overlap" }, Math.PI)).toStrictEqual({
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "treeId",
            x: 0,
            y: 0,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507273153986,
            y: -0.31930878318423384,
        },
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.7670133322746968,
            y: -0.936837170250771,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.9736518072932627,
            y: -0.3235715431987763,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "treeId",
            x: -0.9476507264148156,
            y: -0.31930878585700123,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "treeId",
            x: -1.9736518063806572,
            y: -0.3235715487652906,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "treeId",
            x: -1.767013329632429,
            y: -0.9368371752344785,
        },
    });
});

test("shiftNodesCounterClockWise by 0 - Smallest overlap case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "treeId",
            x: 0,
            y: 0,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: -0.31930878585700095,
        },
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: -0.9368371752344786,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: -0.3235715487652902,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: 0.31930878585700095,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: 0.3235715487652902,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: 0.9368371752344786,
        },
    };

    const nodeIds = Object.keys(nodes);

    const result = shiftNodesCounterClockWise(nodes, "rootId", { "1-2": "overlap", "22a": "overlap", "22b": "overlap" }, 0);

    const coordinatesBeforeShift = nodeIds.map((nodeId) => `(${roundNDecimals(nodes[nodeId]!.x, 6)},${roundNDecimals(nodes[nodeId]!.y, 6)})`);
    const coordinatesAfterShift = nodeIds.map((nodeId) => `(${roundNDecimals(result[nodeId]!.x, 6)},${roundNDecimals(result[nodeId]!.y, 6)})`);

    expect(coordinatesBeforeShift).toStrictEqual(coordinatesAfterShift);
});

test("shiftNodesCounterClockWise by 0 - Smallest overlap case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "treeId",
            x: 0,
            y: 0,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: -0.31930878585700095,
        },
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: -0.9368371752344786,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: -0.3235715487652902,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "treeId",
            x: 0.9476507264148157,
            y: 0.31930878585700095,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.9736518063806572,
            y: 0.3235715487652902,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "treeId",
            x: 1.7670133296324289,
            y: 0.9368371752344786,
        },
    };

    const nodeIds = Object.keys(nodes);

    const result = shiftNodesCounterClockWise(nodes, "rootId", { "1-2": "overlap", "22a": "overlap", "22b": "overlap" }, 2 * Math.PI);

    const coordinatesBeforeShift = nodeIds.map((nodeId) => `(${roundNDecimals(nodes[nodeId]!.x, 6)},${roundNDecimals(nodes[nodeId]!.y, 6)})`);
    const coordinatesAfterShift = nodeIds.map((nodeId) => `(${roundNDecimals(result[nodeId]!.x, 6)},${roundNDecimals(result[nodeId]!.y, 6)})`);

    expect(coordinatesBeforeShift).toStrictEqual(coordinatesAfterShift);
});

test("getSubTreesDictionary - Smallest overlap case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        "21a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21a",
            parentId: "1-1",
            treeId: "firstTree",
            x: -1,
            y: 2,
        },
        "21b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "21b",
            parentId: "1-1",
            treeId: "firstTree",
            x: 0,
            y: 2,
        },
        "1-1": {
            category: "SKILL",
            childrenIds: ["21a", "21b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-1",
            parentId: "rootId",
            treeId: "firstTree",
            x: -0.5,
            y: 1,
        },
        "22a": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22a",
            parentId: "1-2",
            treeId: "secondTree",
            x: 0,
            y: 2,
        },
        "22b": {
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "22b",
            parentId: "1-2",
            treeId: "secondTree",
            x: 1,
            y: 2,
        },
        "1-2": {
            category: "SKILL",
            childrenIds: ["22a", "22b"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "1-2",
            parentId: "rootId",
            treeId: "secondTree",
            x: 0.5,
            y: 1,
        },
        rootId: {
            category: "SKILL_TREE",
            childrenIds: ["1-1", "1-2"],
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "rootId",
            parentId: null,
            treeId: "rootTree",
            x: 0,
            y: 0,
        },
    };

    expect(
        getSubTreesDictionary(
            nodes,
            [
                { subTreeId: "firstTree", subTreeRootId: "1-1" },
                { subTreeId: "secondTree", subTreeRootId: "1-2" },
            ],
            "rootId"
        )
    ).toStrictEqual({
        firstTree: {
            rootId: {
                category: "SKILL_TREE",
                childrenIds: ["1-1"],
                data: MOCK_SKILL_VALUE,
                isRoot: true,
                level: 0,
                nodeId: "rootId",
                parentId: null,
                treeId: "rootTree",
                x: 0,
                y: 0,
            },
            "21a": {
                category: "SKILL",
                childrenIds: [],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 2,
                nodeId: "21a",
                parentId: "1-1",
                treeId: "firstTree",
                x: -1,
                y: 2,
            },
            "21b": {
                category: "SKILL",
                childrenIds: [],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 2,
                nodeId: "21b",
                parentId: "1-1",
                treeId: "firstTree",
                x: 0,
                y: 2,
            },
            "1-1": {
                category: "SKILL",
                childrenIds: ["21a", "21b"],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 1,
                nodeId: "1-1",
                parentId: "rootId",
                treeId: "firstTree",
                x: -0.5,
                y: 1,
            },
        },
        secondTree: {
            rootId: {
                category: "SKILL_TREE",
                childrenIds: ["1-2"],
                data: MOCK_SKILL_VALUE,
                isRoot: true,
                level: 0,
                nodeId: "rootId",
                parentId: null,
                treeId: "rootTree",
                x: 0,
                y: 0,
            },
            "22a": {
                category: "SKILL",
                childrenIds: [],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 2,
                nodeId: "22a",
                parentId: "1-2",
                treeId: "secondTree",
                x: 0,
                y: 2,
            },
            "22b": {
                category: "SKILL",
                childrenIds: [],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 2,
                nodeId: "22b",
                parentId: "1-2",
                treeId: "secondTree",
                x: 1,
                y: 2,
            },
            "1-2": {
                category: "SKILL",
                childrenIds: ["22a", "22b"],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 1,
                nodeId: "1-2",
                parentId: "rootId",
                treeId: "secondTree",
                x: 0.5,
                y: 1,
            },
        },
    });
});

test("checkForRadialOverlap", () => {
    const nodes: Dictionary<NormalizedNode> = {
        rootId: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1,
            y: 0,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2,
            y: 0,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: -0.9579263575710029,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.790602905659263,
            y: -1.2772351434280038,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.982413043637377,
            y: -0.324364666913084,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.976550724849836,
            y: -0.4324862225507787,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.664643714074136,
            y: -1.800305257657338,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.85866398316227,
            y: -1.18041700204705,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.970688406062295,
            y: -0.5406077781884734,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.998826434800272,
            y: 0.10832485745203664,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.9426032060219045,
            y: 0.7554293797715251,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.982413043637377,
            y: 0.324364666913084,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.976550724849836,
            y: 0.4324862225507787,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.790602905659263,
            y: 1.2772351434280038,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.989441218356506,
            y: 0.324771194173913,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.905238347747886,
            y: 0.9688326748121097,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.738253632074079,
            y: 1.5965439292850045,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.4913051408928055,
            y: 2.1973115690292664,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.168560429435188,
            y: 2.760996911651138,
            childrenIds: [],
        },
    };
    const subTreeRootId = "W13aNiwFA4QxLvB97rlfoiVh";

    expect(checkForRadialOverlap(nodes, subTreeRootId)).toStrictEqual({
        biggestOverlapAngle: 0.21666666717958638,
        nodesInConflict: { firstChildIdOfNextTree: "V4rQE2lYJw5OoUtiyCGyLoFS", lastChildIdOfTree: "duhNA0Tf6yZ1200ueoPLzuGg" },
    });
});

test("getNodesToShiftByOverlapRadial - Complete tree case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1,
            y: 0,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2,
            y: 0,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: -0.9579263575710029,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.790602905659263,
            y: -1.2772351434280038,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.982413043637377,
            y: -0.324364666913084,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.976550724849836,
            y: -0.4324862225507787,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.664643714074136,
            y: -1.800305257657338,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.85866398316227,
            y: -1.18041700204705,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.970688406062295,
            y: -0.5406077781884734,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.998826434800272,
            y: 0.10832485745203664,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.9426032060219045,
            y: 0.7554293797715251,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.982413043637377,
            y: 0.324364666913084,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.976550724849836,
            y: 0.4324862225507787,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.790602905659263,
            y: 1.2772351434280038,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.989441218356506,
            y: 0.324771194173913,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.905238347747886,
            y: 0.9688326748121097,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.738253632074079,
            y: 1.5965439292850045,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.4913051408928055,
            y: 2.1973115690292664,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.168560429435188,
            y: 2.760996911651138,
            childrenIds: [],
        },
    };
    const rootId = "homepageRoot";
    const lcaIndexInPathToRightNode = 2;
    const pathToFirstChildIdOfNextTreeInConflict = [
        "homepageRoot",
        "W13aNiwFA4QxLvB97rlfoiVh",
        "nKej63wQ9qAvUQ1BrdtHlLWr",
        "lSQ7xNHSDDbgWpK23at9bRqt",
        "rgxVIfKlLyOaNJkIMe2BVhKw",
        "V4rQE2lYJw5OoUtiyCGyLoFS",
    ];

    expect(getNodesToShiftByOverlapRadial(nodes, rootId, lcaIndexInPathToRightNode, pathToFirstChildIdOfNextTreeInConflict)).toStrictEqual([
        "rPvjkLO0YcEsfXFjuY2lfVuE",
        "G4jvapIbLJ1XryIcOIZHLZqm",
        "lSQ7xNHSDDbgWpK23at9bRqt",
        "rgxVIfKlLyOaNJkIMe2BVhKw",
        "oyaQT0SBpSUbk7LwHFPVT4iL",
        "ggvyhGS8IWQrm9Kuyq7OtPHm",
        "lhkur9LTY0mVVeTmdkWlV7ZZ",
        "zo6kJdlnavamUPjftOQVN3CJ",
        "V4rQE2lYJw5OoUtiyCGyLoFS",
    ]);
});

test("treesToCenterAfterShift - Complete tree case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1,
            y: 0,
            childrenIds: ["i2fZegyq8CRtKt94ExYsEx5N", "ZCENSQWBQ4IlyIm8LRBkhuNh", "1ybjLeOiImEuSHzXEXgjsYe5"],
        },
        i2fZegyq8CRtKt94ExYsEx5N: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "i2fZegyq8CRtKt94ExYsEx5N",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: -0.6386175717140019,
            childrenIds: ["Au0U4Y8urnDmRuepchXYk094"],
        },
        Au0U4Y8urnDmRuepchXYk094: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "Au0U4Y8urnDmRuepchXYk094",
            parentId: "i2fZegyq8CRtKt94ExYsEx5N",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: -0.9579263575710029,
            childrenIds: [],
        },
        ZCENSQWBQ4IlyIm8LRBkhuNh: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2,
            y: 0,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3,
            y: 0,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: -0.9653738558042084,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: -1.2067173197552605,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: -0.32464253337689897,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: -0.4058031667211237,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.735700495392034,
            y: -1.761175694574387,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.89249704646687,
            y: -1.1306982609782403,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.980206205259641,
            y: -0.48696380006534845,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.1624801349154941,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.810019049201302,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: 0.32464253337689886,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: 0.4058031667211236,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: 0.9653738558042084,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: 1.2067173197552605,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.16248013491549426,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.8100190492013022,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.822638574279865,
            y: 1.4480607837063126,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.631937826180538,
            y: 2.0691245303356776,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.37520464822385,
            y: 2.665928541749145,
            childrenIds: [],
        },
        "1ybjLeOiImEuSHzXEXgjsYe5": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "1ybjLeOiImEuSHzXEXgjsYe5",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
            childrenIds: ["7UOehiZ7ODgv6JrWpSyueEIU"],
        },
        "7UOehiZ7ODgv6JrWpSyueEIU": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "7UOehiZ7ODgv6JrWpSyueEIU",
            parentId: "1ybjLeOiImEuSHzXEXgjsYe5",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: [],
        },
    };

    expect(
        getNodesToShiftByHalfOverlapRadial(
            nodes,
            "homepageRoot",
            {
                category: "SKILL",
                childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
                data: MOCK_SKILL_VALUE,
                isRoot: false,
                level: 3,
                nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
                parentId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
                treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
                x: 3,
                y: 0,
            },
            3,
            [
                "homepageRoot",
                "W13aNiwFA4QxLvB97rlfoiVh",
                "ZCENSQWBQ4IlyIm8LRBkhuNh",
                "nKej63wQ9qAvUQ1BrdtHlLWr",
                "lSQ7xNHSDDbgWpK23at9bRqt",
                "rgxVIfKlLyOaNJkIMe2BVhKw",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
            [
                "homepageRoot",
                "W13aNiwFA4QxLvB97rlfoiVh",
                "ZCENSQWBQ4IlyIm8LRBkhuNh",
                "nKej63wQ9qAvUQ1BrdtHlLWr",
                "qhfD2AscZy948FGL3QmPcOfd",
                "zbzYhWqMjt2kHGJpBUfQzEyP",
                "duhNA0Tf6yZ1200ueoPLzuGg",
            ]
        )
    ).toStrictEqual([
        "W13aNiwFA4QxLvB97rlfoiVh",
        "i2fZegyq8CRtKt94ExYsEx5N",
        "Au0U4Y8urnDmRuepchXYk094",
        "ZCENSQWBQ4IlyIm8LRBkhuNh",
        "nKej63wQ9qAvUQ1BrdtHlLWr",
        "v9A1jFspm3yP3AFhKPl8ijEA",
        "vqd6O7DFgDxKEurzozCCpXIG",
    ]);
});

test("getNodesToShiftForInternalOverlapRadial - Complete tree case", () => {
    const nodes: Dictionary<NormalizedNode> = {
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1,
            y: 0,
            childrenIds: ["i2fZegyq8CRtKt94ExYsEx5N", "ZCENSQWBQ4IlyIm8LRBkhuNh", "1ybjLeOiImEuSHzXEXgjsYe5"],
        },
        i2fZegyq8CRtKt94ExYsEx5N: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "i2fZegyq8CRtKt94ExYsEx5N",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: -0.6386175717140019,
            childrenIds: ["Au0U4Y8urnDmRuepchXYk094"],
        },
        Au0U4Y8urnDmRuepchXYk094: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "Au0U4Y8urnDmRuepchXYk094",
            parentId: "i2fZegyq8CRtKt94ExYsEx5N",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: -0.9579263575710029,
            childrenIds: [],
        },
        ZCENSQWBQ4IlyIm8LRBkhuNh: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2,
            y: 0,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3,
            y: 0,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: -0.9653738558042084,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: -1.2067173197552605,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: -0.32464253337689897,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: -0.4058031667211237,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.735700495392034,
            y: -1.761175694574387,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.89249704646687,
            y: -1.1306982609782403,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.980206205259641,
            y: -0.48696380006534845,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.1624801349154941,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.810019049201302,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: 0.32464253337689886,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: 0.4058031667211236,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: 0.9653738558042084,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: 1.2067173197552605,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.16248013491549426,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.8100190492013022,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.822638574279865,
            y: 1.4480607837063126,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.631937826180538,
            y: 2.0691245303356776,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.37520464822385,
            y: 2.665928541749145,
            childrenIds: [],
        },
        "1ybjLeOiImEuSHzXEXgjsYe5": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "1ybjLeOiImEuSHzXEXgjsYe5",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
            childrenIds: ["7UOehiZ7ODgv6JrWpSyueEIU"],
        },
        "7UOehiZ7ODgv6JrWpSyueEIU": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "7UOehiZ7ODgv6JrWpSyueEIU",
            parentId: "1ybjLeOiImEuSHzXEXgjsYe5",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: [],
        },
    };

    expect(
        getNodesToShiftForInternalOverlapRadial(nodes, "homepageRoot", {
            firstChildIdOfNextTree: "V4rQE2lYJw5OoUtiyCGyLoFS",
            lastChildIdOfTree: "duhNA0Tf6yZ1200ueoPLzuGg",
        })
    ).toStrictEqual({
        Au0U4Y8urnDmRuepchXYk094: "halfOverlap",
        G4jvapIbLJ1XryIcOIZHLZqm: "overlap",
        V4rQE2lYJw5OoUtiyCGyLoFS: "overlap",
        W13aNiwFA4QxLvB97rlfoiVh: "halfOverlap",
        ZCENSQWBQ4IlyIm8LRBkhuNh: "halfOverlap",
        ggvyhGS8IWQrm9Kuyq7OtPHm: "overlap",
        i2fZegyq8CRtKt94ExYsEx5N: "halfOverlap",
        lSQ7xNHSDDbgWpK23at9bRqt: "overlap",
        lhkur9LTY0mVVeTmdkWlV7ZZ: "overlap",
        nKej63wQ9qAvUQ1BrdtHlLWr: "halfOverlap",
        oyaQT0SBpSUbk7LwHFPVT4iL: "overlap",
        rPvjkLO0YcEsfXFjuY2lfVuE: "overlap",
        rgxVIfKlLyOaNJkIMe2BVhKw: "overlap",
        v9A1jFspm3yP3AFhKPl8ijEA: "halfOverlap",
        vqd6O7DFgDxKEurzozCCpXIG: "halfOverlap",
        zo6kJdlnavamUPjftOQVN3CJ: "overlap",
    });
});

test("fixSubTreeOverlapRadial - Complete tree case", () => {
    const output: Dictionary<NormalizedNode> = {
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 0.9941376810045276,
            y: -0.10812155754954726,
            childrenIds: ["i2fZegyq8CRtKt94ExYsEx5N", "ZCENSQWBQ4IlyIm8LRBkhuNh", "1ybjLeOiImEuSHzXEXgjsYe5"],
        },
        i2fZegyq8CRtKt94ExYsEx5N: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "i2fZegyq8CRtKt94ExYsEx5N",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8151422669569086,
            y: -0.8397967317789079,
            childrenIds: ["Au0U4Y8urnDmRuepchXYk094"],
        },
        Au0U4Y8urnDmRuepchXYk094: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "Au0U4Y8urnDmRuepchXYk094",
            parentId: "i2fZegyq8CRtKt94ExYsEx5N",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.722713400435363,
            y: -1.2596950976683619,
            childrenIds: [],
        },
        ZCENSQWBQ4IlyIm8LRBkhuNh: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.9882753620090552,
            y: -0.21624311509909452,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.9824130430135827,
            y: -0.32436467264864177,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.583469763659356,
            y: -1.7772856981754954,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.479337204574195,
            y: -2.2216071227193694,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.8238003290569,
            y: -1.1741171336388652,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.779750411321125,
            y: -1.4676464170485815,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.222987204725119,
            y: -2.9530331287132023,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.511654916530546,
            y: -2.3710040238440464,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.73570049358535,
            y: -1.7611757004582977,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.892497038348924,
            y: -1.1306983032839324,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.980206205009868,
            y: -0.4869638031327147,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9985330755726785,
            y: -0.108320097633348,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.998166344465848,
            y: -0.135400122041685,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: 0.9653738558042083,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: 1.2067173197552603,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.997799614213088,
            y: 0.16248011492282877,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.945070992665006,
            y: 0.8100190690182054,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.822638574279865,
            y: 1.4480607837063124,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.631937833077619,
            y: 2.0691245115625514,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.375204639337421,
            y: 2.6659285596664937,
            childrenIds: [],
        },
        "1ybjLeOiImEuSHzXEXgjsYe5": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "1ybjLeOiImEuSHzXEXgjsYe5",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
            childrenIds: ["7UOehiZ7ODgv6JrWpSyueEIU"],
        },
        "7UOehiZ7ODgv6JrWpSyueEIU": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "7UOehiZ7ODgv6JrWpSyueEIU",
            parentId: "1ybjLeOiImEuSHzXEXgjsYe5",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: [],
        },
    };

    const input: Dictionary<NormalizedNode> = {
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["W13aNiwFA4QxLvB97rlfoiVh"],
        },
        W13aNiwFA4QxLvB97rlfoiVh: {
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "W13aNiwFA4QxLvB97rlfoiVh",
            parentId: "homepageRoot",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1,
            y: 0,
            childrenIds: ["i2fZegyq8CRtKt94ExYsEx5N", "ZCENSQWBQ4IlyIm8LRBkhuNh", "1ybjLeOiImEuSHzXEXgjsYe5"],
        },
        i2fZegyq8CRtKt94ExYsEx5N: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "i2fZegyq8CRtKt94ExYsEx5N",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: -0.6386175717140019,
            childrenIds: ["Au0U4Y8urnDmRuepchXYk094"],
        },
        Au0U4Y8urnDmRuepchXYk094: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "Au0U4Y8urnDmRuepchXYk094",
            parentId: "i2fZegyq8CRtKt94ExYsEx5N",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: -0.9579263575710029,
            childrenIds: [],
        },
        ZCENSQWBQ4IlyIm8LRBkhuNh: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2,
            y: 0,
            childrenIds: ["nKej63wQ9qAvUQ1BrdtHlLWr"],
        },
        nKej63wQ9qAvUQ1BrdtHlLWr: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            parentId: "ZCENSQWBQ4IlyIm8LRBkhuNh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3,
            y: 0,
            childrenIds: ["rPvjkLO0YcEsfXFjuY2lfVuE", "lSQ7xNHSDDbgWpK23at9bRqt", "v9A1jFspm3yP3AFhKPl8ijEA", "qhfD2AscZy948FGL3QmPcOfd"],
        },
        rPvjkLO0YcEsfXFjuY2lfVuE: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: -0.9653738558042084,
            childrenIds: ["G4jvapIbLJ1XryIcOIZHLZqm"],
        },
        G4jvapIbLJ1XryIcOIZHLZqm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "G4jvapIbLJ1XryIcOIZHLZqm",
            parentId: "rPvjkLO0YcEsfXFjuY2lfVuE",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: -1.2067173197552605,
            childrenIds: [],
        },
        lSQ7xNHSDDbgWpK23at9bRqt: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "lSQ7xNHSDDbgWpK23at9bRqt",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: -0.32464253337689897,
            childrenIds: ["rgxVIfKlLyOaNJkIMe2BVhKw"],
        },
        rgxVIfKlLyOaNJkIMe2BVhKw: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            parentId: "lSQ7xNHSDDbgWpK23at9bRqt",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: -0.4058031667211237,
            childrenIds: [
                "oyaQT0SBpSUbk7LwHFPVT4iL",
                "ggvyhGS8IWQrm9Kuyq7OtPHm",
                "lhkur9LTY0mVVeTmdkWlV7ZZ",
                "zo6kJdlnavamUPjftOQVN3CJ",
                "V4rQE2lYJw5OoUtiyCGyLoFS",
            ],
        },
        oyaQT0SBpSUbk7LwHFPVT4iL: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "oyaQT0SBpSUbk7LwHFPVT4iL",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.735700495392034,
            y: -1.761175694574387,
            childrenIds: [],
        },
        ggvyhGS8IWQrm9Kuyq7OtPHm: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ggvyhGS8IWQrm9Kuyq7OtPHm",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.89249704646687,
            y: -1.1306982609782403,
            childrenIds: [],
        },
        lhkur9LTY0mVVeTmdkWlV7ZZ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "lhkur9LTY0mVVeTmdkWlV7ZZ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.980206205259641,
            y: -0.48696380006534845,
            childrenIds: [],
        },
        zo6kJdlnavamUPjftOQVN3CJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "zo6kJdlnavamUPjftOQVN3CJ",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.1624801349154941,
            childrenIds: [],
        },
        V4rQE2lYJw5OoUtiyCGyLoFS: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "V4rQE2lYJw5OoUtiyCGyLoFS",
            parentId: "rgxVIfKlLyOaNJkIMe2BVhKw",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.810019049201302,
            childrenIds: [],
        },
        v9A1jFspm3yP3AFhKPl8ijEA: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "v9A1jFspm3yP3AFhKPl8ijEA",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.9868041368397606,
            y: 0.32464253337689886,
            childrenIds: ["vqd6O7DFgDxKEurzozCCpXIG"],
        },
        vqd6O7DFgDxKEurzozCCpXIG: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "vqd6O7DFgDxKEurzozCCpXIG",
            parentId: "v9A1jFspm3yP3AFhKPl8ijEA",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.983505171049701,
            y: 0.4058031667211236,
            childrenIds: [],
        },
        qhfD2AscZy948FGL3QmPcOfd: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "qhfD2AscZy948FGL3QmPcOfd",
            parentId: "nKej63wQ9qAvUQ1BrdtHlLWr",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 3.88175904951991,
            y: 0.9653738558042084,
            childrenIds: ["zbzYhWqMjt2kHGJpBUfQzEyP"],
        },
        zbzYhWqMjt2kHGJpBUfQzEyP: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 5,
            nodeId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            parentId: "qhfD2AscZy948FGL3QmPcOfd",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 4.852198811899887,
            y: 1.2067173197552605,
            childrenIds: [
                "duhNA0Tf6yZ1200ueoPLzuGg",
                "2VzB7kY3w7PPJZ9iydLdlhps",
                "5gJHlxnfQWu7OQ7bEk5j0Dhr",
                "ceqbtn7yLTTYOdWid6T6U70E",
                "jF4COVBcLVYy9gS2fZPttOjJ",
            ],
        },
        duhNA0Tf6yZ1200ueoPLzuGg: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "duhNA0Tf6yZ1200ueoPLzuGg",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.9977996136714875,
            y: 0.16248013491549426,
            childrenIds: [],
        },
        "2VzB7kY3w7PPJZ9iydLdlhps": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "2VzB7kY3w7PPJZ9iydLdlhps",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.94507099536507,
            y: 0.8100190492013022,
            childrenIds: [],
        },
        "5gJHlxnfQWu7OQ7bEk5j0Dhr": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "5gJHlxnfQWu7OQ7bEk5j0Dhr",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.822638574279865,
            y: 1.4480607837063126,
            childrenIds: [],
        },
        ceqbtn7yLTTYOdWid6T6U70E: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "ceqbtn7yLTTYOdWid6T6U70E",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.631937826180538,
            y: 2.0691245303356776,
            childrenIds: [],
        },
        jF4COVBcLVYy9gS2fZPttOjJ: {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 6,
            nodeId: "jF4COVBcLVYy9gS2fZPttOjJ",
            parentId: "zbzYhWqMjt2kHGJpBUfQzEyP",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 5.37520464822385,
            y: 2.665928541749145,
            childrenIds: [],
        },
        "1ybjLeOiImEuSHzXEXgjsYe5": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "1ybjLeOiImEuSHzXEXgjsYe5",
            parentId: "W13aNiwFA4QxLvB97rlfoiVh",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
            childrenIds: ["7UOehiZ7ODgv6JrWpSyueEIU"],
        },
        "7UOehiZ7ODgv6JrWpSyueEIU": {
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "7UOehiZ7ODgv6JrWpSyueEIU",
            parentId: "1ybjLeOiImEuSHzXEXgjsYe5",
            treeId: "jzX4cM1gvWUfzdTVg7UACfLN",
            x: 2.842952179244447,
            y: 0.9579263575710029,
            childrenIds: [],
        },
    };

    expect(fixSubTreeOverlapRadial(input, "homepageRoot")).toStrictEqual(output);
});

test("CircularTree1", () => {
    const nodes: Dictionary<NormalizedNode> = {
        uY8KrW6D5FKsuw8VZviwKYbK: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "uY8KrW6D5FKsuw8VZviwKYbK",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        hCV7q7oJOlbeMeYlyMtIZYlK: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "hCV7q7oJOlbeMeYlyMtIZYlK",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        q3O24bcBKTYNzaK0qcs2P1tO: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "q3O24bcBKTYNzaK0qcs2P1tO",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        "5Bd1Codzk0WsWtCAGX2tP1Ej": {
            level: 2,
            category: "SKILL",
            childrenIds: ["uY8KrW6D5FKsuw8VZviwKYbK", "hCV7q7oJOlbeMeYlyMtIZYlK", "q3O24bcBKTYNzaK0qcs2P1tO"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        W9YGjEAjIW5jyZk4UqIsKVDX: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "W9YGjEAjIW5jyZk4UqIsKVDX",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        "8HQgjPwxHMNJnJEfSCJihr2d": {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "8HQgjPwxHMNJnJEfSCJihr2d",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        YnOYZ6TzIXPO9n1ctCjYALBx: {
            level: 1,
            category: "SKILL_TREE",
            childrenIds: ["5Bd1Codzk0WsWtCAGX2tP1Ej", "W9YGjEAjIW5jyZk4UqIsKVDX", "8HQgjPwxHMNJnJEfSCJihr2d"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            parentId: "homepageRoot",
            treeId: "8sDjNU7jCKLgXmuY6Fa7N9Zw",
            x: 0,
            y: 0,
        },
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["YnOYZ6TzIXPO9n1ctCjYALBx"],
        },
    };

    const result = [
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            parentId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "8HQgjPwxHMNJnJEfSCJihr2d",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.8953014528296315,
            y: -0.6386175717140019,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "W9YGjEAjIW5jyZk4UqIsKVDX",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            parentId: "YnOYZ6TzIXPO9n1ctCjYALBx",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "q3O24bcBKTYNzaK0qcs2P1tO",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.982413043637377,
            y: 0.324364666913084,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "hCV7q7oJOlbeMeYlyMtIZYlK",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.842952179244447,
            y: 0.9579263575710031,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "uY8KrW6D5FKsuw8VZviwKYbK",
            parentId: "5Bd1Codzk0WsWtCAGX2tP1Ej",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.570551791537991,
            y: 1.5466943741479193,
        },
    ];

    expect(
        plotCircularTree(nodes, {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            icon: { isEmoji: false, text: "L" },
            rootNodeId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
        })
    ).toStrictEqual(result);
});

test("CircularTree2", () => {
    const nodes: Dictionary<NormalizedNode> = {
        bxEZH4OV4jNbfpAWOAbyQmJ3: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "bxEZH4OV4jNbfpAWOAbyQmJ3",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        Yburz8CPsJgyIoEVAdGwhVxy: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "Yburz8CPsJgyIoEVAdGwhVxy",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        "3UQYM1pNRBr55qDLBWoJ0zpC": {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "3UQYM1pNRBr55qDLBWoJ0zpC",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        W9uTVoCFl4S8xgc7wfSTEa1M: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "W9uTVoCFl4S8xgc7wfSTEa1M",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        vujNCByABSdf45h6BVZotcFv: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "vujNCByABSdf45h6BVZotcFv",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        vCxnByw3abSYBIf4H4tmPdwc: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "vCxnByw3abSYBIf4H4tmPdwc",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        "7oakyY7V6lJwvl2Z7Xy4p1mo": {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "7oakyY7V6lJwvl2Z7Xy4p1mo",
            parentId: "z7nioPZIJHskOs5YAjpX7DKW",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        YfwYwj2D4HtlU2zjcfR5EpWM: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "YfwYwj2D4HtlU2zjcfR5EpWM",
            parentId: "z7nioPZIJHskOs5YAjpX7DKW",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        z7nioPZIJHskOs5YAjpX7DKW: {
            level: 3,
            category: "SKILL",
            childrenIds: ["7oakyY7V6lJwvl2Z7Xy4p1mo", "YfwYwj2D4HtlU2zjcfR5EpWM"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "z7nioPZIJHskOs5YAjpX7DKW",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        hgVd10wt2mjtvWUkoUmAfEoR: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "hgVd10wt2mjtvWUkoUmAfEoR",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        GvhYYLzYv9yoP2BIqUscZ0J4: {
            level: 2,
            category: "SKILL",
            childrenIds: ["vujNCByABSdf45h6BVZotcFv", "vCxnByw3abSYBIf4H4tmPdwc", "z7nioPZIJHskOs5YAjpX7DKW", "hgVd10wt2mjtvWUkoUmAfEoR"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        H1Oa1EewWrrAK5m6pHKj8rfB: {
            level: 1,
            category: "SKILL_TREE",
            childrenIds: [
                "bxEZH4OV4jNbfpAWOAbyQmJ3",
                "Yburz8CPsJgyIoEVAdGwhVxy",
                "3UQYM1pNRBr55qDLBWoJ0zpC",
                "W9uTVoCFl4S8xgc7wfSTEa1M",
                "GvhYYLzYv9yoP2BIqUscZ0J4",
            ],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            parentId: "homepageRoot",
            treeId: "IbobD75HwID9VjkDvsafIh5t",
            x: 0,
            y: 0,
        },
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["H1Oa1EewWrrAK5m6pHKj8rfB"],
        },
    };

    const result = [
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            parentId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.5921675970981117,
            y: -1.210372811472079,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "hgVd10wt2mjtvWUkoUmAfEoR",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.6835041606480243,
            y: -2.483105664501773,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "z7nioPZIJHskOs5YAjpX7DKW",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.177949617704197,
            y: -2.0631372864504534,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "YfwYwj2D4HtlU2zjcfR5EpWM",
            parentId: "z7nioPZIJHskOs5YAjpX7DKW",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.6710921434380177,
            y: -2.977459783315922,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "7oakyY7V6lJwvl2Z7Xy4p1mo",
            parentId: "z7nioPZIJHskOs5YAjpX7DKW",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.1176135536897616,
            y: -2.506089729010096,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "vCxnByw3abSYBIf4H4tmPdwc",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.5705517915379907,
            y: -1.5466943741479193,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "vujNCByABSdf45h6BVZotcFv",
            parentId: "GvhYYLzYv9yoP2BIqUscZ0J4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.842952179244447,
            y: -0.9579263575710029,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "W9uTVoCFl4S8xgc7wfSTEa1M",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.8953014528296315,
            y: -0.6386175717140019,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "3UQYM1pNRBr55qDLBWoJ0zpC",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "Yburz8CPsJgyIoEVAdGwhVxy",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.8953014528296315,
            y: 0.638617571714002,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "bxEZH4OV4jNbfpAWOAbyQmJ3",
            parentId: "H1Oa1EewWrrAK5m6pHKj8rfB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.5921675970981117,
            y: 1.210372811472079,
        },
    ];

    expect(plotCircularTree(nodes, WHITE_HOME_TREE)).toStrictEqual(result);
});

test("CircularTree3", () => {
    const nodes: Dictionary<NormalizedNode> = {
        fpGigYlrkCNFhArd6xdd3hYs: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "fpGigYlrkCNFhArd6xdd3hYs",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        MyETH2VmEBbqL1cLHV3rNAh4: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "MyETH2VmEBbqL1cLHV3rNAh4",
            parentId: "4X4ohF7P4bwIEMymjl8yuScy",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        "4X4ohF7P4bwIEMymjl8yuScy": {
            level: 2,
            category: "SKILL",
            childrenIds: ["MyETH2VmEBbqL1cLHV3rNAh4"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "4X4ohF7P4bwIEMymjl8yuScy",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        QueW8HV7gLPbf1Eq7cBV8ZEC: {
            level: 2,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "QueW8HV7gLPbf1Eq7cBV8ZEC",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        OgoaX6ksSgQx2BBrCZJtXYl7: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "OgoaX6ksSgQx2BBrCZJtXYl7",
            parentId: "CDpIS1pMkSL4xubyo9R7QtEe",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        CDpIS1pMkSL4xubyo9R7QtEe: {
            level: 2,
            category: "SKILL",
            childrenIds: ["OgoaX6ksSgQx2BBrCZJtXYl7"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "CDpIS1pMkSL4xubyo9R7QtEe",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        hmKCHlNPDIjtvMnmG1qQroa4: {
            level: 1,
            category: "SKILL_TREE",
            childrenIds: ["fpGigYlrkCNFhArd6xdd3hYs", "4X4ohF7P4bwIEMymjl8yuScy", "QueW8HV7gLPbf1Eq7cBV8ZEC", "CDpIS1pMkSL4xubyo9R7QtEe"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "hmKCHlNPDIjtvMnmG1qQroa4",
            parentId: "homepageRoot",
            treeId: "KdqtDCmLgAE9Od3o6mYNnhQN",
            x: 0,
            y: 0,
        },
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["hmKCHlNPDIjtvMnmG1qQroa4"],
        },
    };

    const result = [
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "hmKCHlNPDIjtvMnmG1qQroa4",
            parentId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "CDpIS1pMkSL4xubyo9R7QtEe",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.7670133296324289,
            y: -0.9368371752344786,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "OgoaX6ksSgQx2BBrCZJtXYl7",
            parentId: "CDpIS1pMkSL4xubyo9R7QtEe",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.6505199944486435,
            y: -1.405255762851718,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "QueW8HV7gLPbf1Eq7cBV8ZEC",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.9736518063806572,
            y: -0.32357154876529026,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "4X4ohF7P4bwIEMymjl8yuScy",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.9736518063806572,
            y: 0.32357154876529015,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "MyETH2VmEBbqL1cLHV3rNAh4",
            parentId: "4X4ohF7P4bwIEMymjl8yuScy",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.960477709570986,
            y: 0.4853573231479352,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "fpGigYlrkCNFhArd6xdd3hYs",
            parentId: "hmKCHlNPDIjtvMnmG1qQroa4",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.7670133296324289,
            y: 0.9368371752344786,
        },
    ];

    expect(plotCircularTree(nodes, WHITE_HOME_TREE)).toStrictEqual(result);
});

test("Circular Tree - Rairtha 1", () => {
    const nodes: Dictionary<NormalizedNode> = {
        "5q0IMY79rAneVeAHSwRgm8AM": {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "5q0IMY79rAneVeAHSwRgm8AM",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        NRfw8131hOoU3VPgCoQJSBai: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "NRfw8131hOoU3VPgCoQJSBai",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        qsVTkuD9OZ9I5Xl7j3Oib1Ox: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "qsVTkuD9OZ9I5Xl7j3Oib1Ox",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        EaTStq4s6zIxltcjd0MTaLKS: {
            level: 2,
            category: "SKILL",
            childrenIds: ["5q0IMY79rAneVeAHSwRgm8AM", "NRfw8131hOoU3VPgCoQJSBai", "qsVTkuD9OZ9I5Xl7j3Oib1Ox"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "EaTStq4s6zIxltcjd0MTaLKS",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        eUVW3NvIA3K2JT4cS8Vt4idV: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "eUVW3NvIA3K2JT4cS8Vt4idV",
            parentId: "R2uls2cGeedOezadmH92BHu8",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        tleqTACAMzNV5IWS6PuhKAQa: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "tleqTACAMzNV5IWS6PuhKAQa",
            parentId: "R2uls2cGeedOezadmH92BHu8",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        R2uls2cGeedOezadmH92BHu8: {
            level: 3,
            category: "SKILL",
            childrenIds: ["eUVW3NvIA3K2JT4cS8Vt4idV", "tleqTACAMzNV5IWS6PuhKAQa"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "R2uls2cGeedOezadmH92BHu8",
            parentId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        bz8QsifzNWuC68BcjQ9KSrq6: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "bz8QsifzNWuC68BcjQ9KSrq6",
            parentId: "aIEQEcZwCzYjLK2hHkvso7vB",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        aIEQEcZwCzYjLK2hHkvso7vB: {
            level: 3,
            category: "SKILL",
            childrenIds: ["bz8QsifzNWuC68BcjQ9KSrq6"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "aIEQEcZwCzYjLK2hHkvso7vB",
            parentId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        oE5PvpfzuzLjD2o2VZ4OJEUN: {
            level: 2,
            category: "SKILL",
            childrenIds: ["R2uls2cGeedOezadmH92BHu8", "aIEQEcZwCzYjLK2hHkvso7vB"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        qiDTAMbKL2LqI7oPTlDISWUd: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "qiDTAMbKL2LqI7oPTlDISWUd",
            parentId: "8Gp9OHcp6orUxdHjSfpaVUAH",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        "8Gp9OHcp6orUxdHjSfpaVUAH": {
            level: 3,
            category: "SKILL",
            childrenIds: ["qiDTAMbKL2LqI7oPTlDISWUd"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "8Gp9OHcp6orUxdHjSfpaVUAH",
            parentId: "nFC97sH2HjHgdirs9DcHO4wb",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        nFC97sH2HjHgdirs9DcHO4wb: {
            level: 2,
            category: "SKILL",
            childrenIds: ["8Gp9OHcp6orUxdHjSfpaVUAH"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "nFC97sH2HjHgdirs9DcHO4wb",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        ZaP524wLoByB2YUJZha99ELz: {
            level: 1,
            category: "SKILL_TREE",
            childrenIds: ["EaTStq4s6zIxltcjd0MTaLKS", "oE5PvpfzuzLjD2o2VZ4OJEUN", "nFC97sH2HjHgdirs9DcHO4wb"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "ZaP524wLoByB2YUJZha99ELz",
            parentId: "homepageRoot",
            treeId: "VIu0RhIaYuFjtCDLmHCtRpXj",
            x: 0,
            y: 0,
        },
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["ZaP524wLoByB2YUJZha99ELz"],
        },
    };

    const result = [
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "ZaP524wLoByB2YUJZha99ELz",
            parentId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0.9917365298280757,
            y: -0.12829129122651456,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "nFC97sH2HjHgdirs9DcHO4wb",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.6851497104819229,
            y: -1.0771585088846911,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "8Gp9OHcp6orUxdHjSfpaVUAH",
            parentId: "nFC97sH2HjHgdirs9DcHO4wb",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.527724565722884,
            y: -1.6157377633270367,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "qiDTAMbKL2LqI7oPTlDISWUd",
            parentId: "8Gp9OHcp6orUxdHjSfpaVUAH",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.3702994209638457,
            y: -2.1543170177693822,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.9472377553615254,
            y: -0.45636073899340673,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "aIEQEcZwCzYjLK2hHkvso7vB",
            parentId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.815968909111081,
            y: -1.0345622759987672,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "bz8QsifzNWuC68BcjQ9KSrq6",
            parentId: "aIEQEcZwCzYjLK2hHkvso7vB",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.754625212148108,
            y: -1.3794163679983562,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "R2uls2cGeedOezadmH92BHu8",
            parentId: "oE5PvpfzuzLjD2o2VZ4OJEUN",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.9824130423897883,
            y: -0.32436467838420024,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "tleqTACAMzNV5IWS6PuhKAQa",
            parentId: "R2uls2cGeedOezadmH92BHu8",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.9283313614119453,
            y: -0.7537988557615172,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "eUVW3NvIA3K2JT4cS8Vt4idV",
            parentId: "R2uls2cGeedOezadmH92BHu8",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.998533075364365,
            y: -0.10832010532303492,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "EaTStq4s6zIxltcjd0MTaLKS",
            parentId: "ZaP524wLoByB2YUJZha99ELz",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.8953014528296315,
            y: 0.6386175717140019,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "qsVTkuD9OZ9I5Xl7j3Oib1Ox",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.9824130447185926,
            y: 0.3243646569717072,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "NRfw8131hOoU3VPgCoQJSBai",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.842952179244447,
            y: 0.9579263575710029,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "5q0IMY79rAneVeAHSwRgm8AM",
            parentId: "EaTStq4s6zIxltcjd0MTaLKS",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.5705517863823433,
            y: 1.5466943827164252,
        },
    ];
    expect(plotCircularTree(nodes, WHITE_HOME_TREE)).toStrictEqual(result);
});

test("Circular Tree - Rairtha 2", () => {
    const nodes: Dictionary<NormalizedNode> = {
        W4cebJSthJvkS687FcB6v4SE: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "W4cebJSthJvkS687FcB6v4SE",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        OAEoTmtL2CQfBKkGOLtoOpKu: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "OAEoTmtL2CQfBKkGOLtoOpKu",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        iaYRS8Ay7HBCXmVpuYqXwzaC: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "iaYRS8Ay7HBCXmVpuYqXwzaC",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        PLqLY3zrO1rje2LdoypEuHtp: {
            level: 3,
            category: "SKILL",
            childrenIds: ["W4cebJSthJvkS687FcB6v4SE", "OAEoTmtL2CQfBKkGOLtoOpKu", "iaYRS8Ay7HBCXmVpuYqXwzaC"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "PLqLY3zrO1rje2LdoypEuHtp",
            parentId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        pGOJR7WrQty7JcW7PY49C7qM: {
            level: 4,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "pGOJR7WrQty7JcW7PY49C7qM",
            parentId: "C4pjCLvMIUdw39PsreMyrgb8",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        C4pjCLvMIUdw39PsreMyrgb8: {
            level: 3,
            category: "SKILL",
            childrenIds: ["pGOJR7WrQty7JcW7PY49C7qM"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "C4pjCLvMIUdw39PsreMyrgb8",
            parentId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        c1nWxT1H0LdIJoIeqzpW9jTQ: {
            level: 2,
            category: "SKILL",
            childrenIds: ["PLqLY3zrO1rje2LdoypEuHtp", "C4pjCLvMIUdw39PsreMyrgb8"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            parentId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        ETPU6bW0Il8YWK8kgLCztT2y: {
            level: 3,
            category: "SKILL",
            childrenIds: [],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "ETPU6bW0Il8YWK8kgLCztT2y",
            parentId: "OO2ZEOy17klSkQeUjlNIEDyC",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        OO2ZEOy17klSkQeUjlNIEDyC: {
            level: 2,
            category: "SKILL",
            childrenIds: ["ETPU6bW0Il8YWK8kgLCztT2y"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "OO2ZEOy17klSkQeUjlNIEDyC",
            parentId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        xo1pn5U1LbbyB1WpQqlGzjSC: {
            level: 1,
            category: "SKILL_TREE",
            childrenIds: ["c1nWxT1H0LdIJoIeqzpW9jTQ", "OO2ZEOy17klSkQeUjlNIEDyC"],
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            nodeId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            parentId: "homepageRoot",
            treeId: "T60Qxm83DTSZYOLsULl78DZZ",
            x: 0,
            y: 0,
        },
        homepageRoot: {
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            x: 0,
            y: 0,
            childrenIds: ["xo1pn5U1LbbyB1WpQqlGzjSC"],
        },
    };

    const result = [
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "USER",
            data: MOCK_SKILL_VALUE,
            isRoot: true,
            level: 0,
            nodeId: "homepageRoot",
            parentId: null,
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0,
            y: 0,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL_TREE",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 1,
            nodeId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            parentId: "homepageRoot",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 0.9967010341683112,
            y: -0.08116063385545307,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "OO2ZEOy17klSkQeUjlNIEDyC",
            parentId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.9270965708289993,
            y: -0.5350689737773178,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "ETPU6bW0Il8YWK8kgLCztT2y",
            parentId: "OO2ZEOy17klSkQeUjlNIEDyC",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.890644856243499,
            y: -0.8026034606659767,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 2,
            nodeId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            parentId: "xo1pn5U1LbbyB1WpQqlGzjSC",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 1.9882753631457284,
            y: 0.2162431046478048,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "C4pjCLvMIUdw39PsreMyrgb8",
            parentId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.995600034209665,
            y: -0.16242054994074412,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "pGOJR7WrQty7JcW7PY49C7qM",
            parentId: "C4pjCLvMIUdw39PsreMyrgb8",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.99413337894622,
            y: -0.21656073325432548,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 3,
            nodeId: "PLqLY3zrO1rje2LdoypEuHtp",
            parentId: "c1nWxT1H0LdIJoIeqzpW9jTQ",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 2.8906448593305147,
            y: 0.8026034495478259,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "iaYRS8Ay7HBCXmVpuYqXwzaC",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.976550726291457,
            y: 0.4324862092956096,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "OAEoTmtL2CQfBKkGOLtoOpKu",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.8541931457740195,
            y: 1.0701379327304346,
        },
        {
            accentColor: { label: "White", color1: "#FFFFFF", color2: "#CAEFD7" },
            category: "SKILL",
            data: MOCK_SKILL_VALUE,
            isRoot: false,
            level: 4,
            nodeId: "W4cebJSthJvkS687FcB6v4SE",
            parentId: "PLqLY3zrO1rje2LdoypEuHtp",
            treeId: "HomepageTree",
            treeName: "Life Skills",
            x: 3.6302845380053843,
            y: 1.6795934547142748,
        },
    ];

    expect(plotCircularTree(nodes, WHITE_HOME_TREE)).toStrictEqual(result);
});
